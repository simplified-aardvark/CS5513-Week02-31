<head>
  	<!-- need meta viewport tag to allow for css media queries on mobile -->
  	<meta name="viewport" content="width=device-width,initial-scale=1">
  	<title>Some Descriptions of Some Things</title>
    <!-- load React - note when deploying, replace "development.js" with "production.min.js". -->
    <script src="https://unpkg.com/react/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js" crossorigin>
    </script> 
    <!-- load babel transpiler to convert React's JSX markup to pure JavaScript
         Note: we only need babel loaded in the browser if we are not using a build system 
         where babel would save pure JS files to be loaded by the browser instead -->
    <script src="https://unpkg.com/@babel/standalone@7.22.10/babel.min.js"></script>
</head>

<body>
  <h1>Check Out These Things:</h1>

  <div id="react_app"></div>

  <script type="text/babel">
    "use strict";

    function ThingDescriptions(props) {
      console.log("Hi There");
      return (
        <div>
          {
            props.list.map(
              (item, index) => (
                <p key={index}>
                  <b>{index+1}:</b> This thing is named <em>{item.name}</em>. It is a <em>{item.color}</em> <em>{item.type_of_thing}</em>. 
                </p>
              )
            )
          }
        </div>
      );
    }

    logMovies("https://cs5513-week02-31-bswain47.srjcethanwilde.repl.co/things.json");
    
    async function logMovies(file_name) {
      const response = await fetch(file_name);
      const things = await response.json();
      console.log(things);


        const reactRoot = ReactDOM.createRoot(document.getElementById('react_app'));
        console.log("About to render!");
        reactRoot.render(
          <ThingDescriptions list={things}/>
        );

    }
  </script>
</body>